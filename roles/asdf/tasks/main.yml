- git:
    repo: https://github.com/asdf-vm/asdf.git
    dest: "/Users/{{ lookup('env', 'USER') }}/.asdf"
    version: v0.11.3
- name: "Create a default asdf configuration"
  template:
    src: templates/.asdfrc.j2
    dest: /Users/{{ lookup('env', 'USER') }}/.asdfrc
    owner: "{{ lookup('env', 'USER') }}"
    force: yes

# - name: Install Terraform with asdf
#   ansible.builtin.import_role:
#     name: trallnag.asdf_plugin
#   vars:
#     asdf_plugin_name: terraform
#     asdf_plugin_git_url: https://github.com/asdf-community/asdf-hashicorp.git
#     asdf_plugin_package_versions: ['1.0.9']
#     asdf_plugin_package_version_global: '1.0.9'